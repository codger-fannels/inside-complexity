---
layout: post
title: "TDD"
---

### C'est quoi le développement dirigé par les tests (TDD) ?
- Formaliser exactement ce qu’une fonctionnalité doit accomplir sans ambiguïté.
- Laisser uniquement les tests et rien que les tests guider le développement. Si la conception est trop rigide ou confuse, les tests le révèlent immédiatement car ils seront difficile à écrire.
- Une activité de conception qui rend le code testable et facile à lire et à comprendre.
- Ne pas écrire du code si le test associé n'existe pas
- 
### Quelles sont les différences entre les tests unitaires et les tests de bout en bout ?
- **Tests unitaires** : vérifient qu’une seule unité de code (fonction, méthode, objet) fonctionne correctement.  Est-ce que **nos objets font ce qu’il faut et sont faciles à utiliser** ? Est ce que le code est de bonne qualité ?
- **Tests d'acceptation** : vérifient que **l’ensemble du système fonctionne** et que le système soit de bonne qualité.
- **Tests d’intégration** : vérifient que **notre code fonctionne avec du code que nous ne pouvons pas modifier** : un framework, un mapper de persistance, une librairie.

### Comment écrire un bon test unitaire ?
Un test unitaire pour un objet doit :
- créer l’objet
- fournir ses dépendances explicites et facilement substituables
- interagir avec sa responsabilité
- Décrire ce que le code doit faire
- vérifier qu’il s’est comporté comme prévu. Ses responsabilités doivent être claires et vérifiables. Ici, le test ne passe pas.
- Faire le code pour que le test passe
- Refactoriser pour avoir une implémentation simple
- Recommencer avec un autre test

### C'est quoi le couplage ?
Les éléments sont **couplés** si un changement dans l’un oblige à modifier l’autre. Un système est faiblement couplé quand il est assemblé à partir d'éléments séparés, facilement remplaçables.

### C'est quoi la cohésion ?
Une classe qui analyse à la fois des dates et des URL n’est pas cohésive, car ce sont des concepts sans lien. Mais une classe qui ne parse que la ponctuation d’une URL (et pas le protocole ou l'hôte) est également peu cohésive car elle ne représente pas un concept complet.

### Quels sont les liens entre objets ?
En programmation orientée objet, les objets interagissent en s’échangeant des messages, un peu comme des cellules biologiques. Cette analogie aide à concevoir des systèmes modulaires et évolutifs.

### Comment savoir si le système fonctionne bien ?
- Tester le plus tôt possible
- Intégrer le plus tôt possible
- Déployer le plus tôt possible et le plus fréquemment possible pour confronter le système à la réalité

### Comment assurer la qualité du système ?
- Construire le logiciel **fonctionnalité par fonctionnalité** mais toujours sous une forme déployable. Chaque incrément doit traverser **tout le système**, pas seulement une partie.
- Itérer sur chaque fonctionnalité grâce aux retours d’expérience pour l'améliorer rapidement.

### A quoi servent les mocks ?
- Les mocks ne sont pas là pour “tricher” ou remplacer des tests réels.
- Identifier les dépendances et les interactions entre objets.
- Tester des comportements complexes sans tout construire à chaque fois.

### Comment tester une fonctionnalité ?
- Ecrire un test d'acceptation qui interagit avec le système uniquement depuis l'extérieur : interface, messages, services web, etc.
- Décrire ce que le code doit faire
- Découper le problème en **unités testables**.
- Utiliser des **mocks** pour simuler les parties du système qui ne sont pas encore développées ou difficiles à contrôler.
- Faire des cycles de tests unitaires pour développer la fonctionnalité
- Inclure le test d'acceptation dans le build
  ![[Pasted image 20251003173401.png]]

### Comment déployer souvent ?
- Automatiser le build
- Déclencher le build dès qu'un commit est poussé dans le dépôt source
  - récupérer la dernière version ;
  - compiler et tester le code au niveau unitaire ;
  - intégrer et empaqueter le système ;
  - effectuer un déploiement similaire à la production dans un environnement réaliste ;
  - et enfin, tester le système via ses points d’accès externes.

