<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UTF-8 et Unicode</title>
    <style>
        /* Police et couleurs */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
            color: #2c3e50;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 2rem auto;
            background: #fff;
            padding: 2rem 3rem;
            border-radius: 15px;
            box-shadow: 0 12px 30px rgba(0,0,0,0.15);
        }

        h1 {
            text-align: center;
            color: #e74c3c;
            margin-bottom: 2rem;
            font-size: 2.5rem;
        }

        h2 {
            color: #2980b9;
            margin-top: 2rem;
            border-bottom: 3px solid #f39c12;
            padding-bottom: 0.3rem;
        }

        h3 {
            color: #16a085;
            margin-top: 1.5rem;
        }

        p {
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        strong {
            color: #e74c3c;
        }

        em, i {
            font-style: italic;
            color: #16a085;
        }

        code {
            background: #f1f3f5;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', Courier, monospace;
            color: #c0392b;
        }

        pre {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 1rem;
            border-radius: 10px;
            overflow-x: auto;
            margin-bottom: 1rem;
            font-size: 0.95rem;
        }

        ul {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        .emoji {
            font-size: 1.3em;
        }

        blockquote {
            border-left: 5px solid #f39c12;
            padding-left: 1rem;
            color: #555;
            font-style: italic;
            margin: 1rem 0;
            background: #fcf8e3;
            border-radius: 6px;
        }

        /* Animation légère */
        h1, h2, h3, p, li {
            animation: fadeIn 0.6s ease-in-out;
        }

        @keyframes fadeIn {
            from {opacity: 0; transform: translateY(10px);}
            to {opacity: 1; transform: translateY(0);}
        }
    </style>
</head>
<body>
<div class="container">
    <h1>UTF-8 et Unicode : Comprendre l'encodage universel</h1>

    <p>On dit que <strong>UTF-8 est l’encodage universel</strong> parce qu’il peut représenter <strong>tous les caractères définis dans Unicode</strong>, de ton accent circonflexe jusqu’à l’emoji caca <span class="emoji">💩</span>, tout en restant compatible avec les anciens systèmes qui utilisaient l’ASCII.</p>

    <p>Bref : <strong>UTF-8 c’est le Wi-Fi illimité, le reste c’est le modem 56k</strong>.</p>

    <h2>1. Unicode : le grand dictionnaire des caractères</h2>

    <p>Unicode est comme un <strong>grand dictionnaire</strong>, c’est ce <strong>catalogue géant</strong> où chaque caractère a un petit numéro de série appelé code point qui commence par U+.</p>

    <ul>
        <li><code>🙂</code> = <strong>U+1F642</strong></li>
        <li><code>é</code> = <strong>U+00E9</strong></li>
        <li>Et même le “𓂀” (un œil égyptien random) a son code, au cas où tu voudrais coder en hiéroglyphes dans ton SQL.</li>
    </ul>

    <blockquote>Attention, Unicode <strong>n’est pas un encodage</strong>. C’est juste une liste avec des numéros. Ça te dit <em>qui</em> tu es, pas <em>comment</em> t’écrire sur disque. Bref, un zoo numérique.</blockquote>

    <p>Ton éditeur de texte manipule les caractères Unicode en mémoire. Tant que tu n’as pas <strong>sauvegardé ton fichier</strong>, le caractère <code>🙂</code> reste une valeur abstraite : l’éditeur sait que c’est un caractère Unicode valide (U+1F642) et peut demander à la police d’afficher le bon dessin.</p>

    <p>Mais dès qu’il faut <strong>enregistrer le fichier sur le disque</strong>, il faut transformer ce numéro en <strong>suite d’octets</strong>. Parce que devine quoi ? Un fichier c’est juste un gros tas de 0 et de 1. C’est exactement le rôle de l’encodage. UTF-8 est un encodage, il prend ton <code>🙂</code> et le transforme en ce monstre : <code>F0 9F 99 82</code> pour pouvoir le stocker. Pas sexy, mais ça marche. Si tu ne précises rien, la plupart des éditeurs modernes choisissent <strong>UTF-8</strong> par défaut.</p>

    <h2>2. Comment UTF-8 encode les caractères</h2>

    <p>UTF-8 utilise un principe simple :</p>
    <ul>
        <li>Plus le numéro (code point) est petit, moins on a besoin d’octets.</li>
        <li>Plus il est grand, plus on ajoute d’octets.</li>
    </ul>

    <h3>2.1 Règles de base</h3>
    <ul>
        <li>1 octet → pour les 128 premiers caractères (ASCII)</li>
        <li>2 octets → jusqu’à 11 bits de code</li>
        <li>3 octets → jusqu’à 16 bits</li>
        <li>4 octets → jusqu’à 21 bits (maximum de Unicode)</li>
    </ul>

    <p>Exemple en binaire, U+1F642 = <code>0001 1111 0110 0100 0010</code> (20 bits utiles).
        20 bits ⇒ on a besoin de <strong>4 octets</strong>.</p>

    <h3>2.2 Modèle pour 4 octets</h3>
    <pre><code>11110xxx 10xxxxxx 10xxxxxx 10xxxxxx</code></pre>
    <p>Pour 3 octets, l'octet d'en-tête serait <code>1110 xxxx</code>. Pour l'octet d'en-tête, le bit de poids fort est toujours égal à 1. Ensuite il y a autant de 1 que d'octets de suite (3) puis on ajoute des 0. Les <code>x</code> seront remplacés par les <strong>bits du code point</strong> (0001 1111 0110 0100 0010) de gauche à droite.</p>

    <ul>
        <li>Octet 1 (<code>11110xxx</code>) : prend les 2 bits les plus à gauche de <code>0001</code>, rempli les 2 derniers x
            <ul><li>Résultat : <code>11110000</code> → <code>F0</code></li></ul>
        </li>
        <li>Octet 2 (<code>10xxxxxx</code>) : prend les 6 bits suivants → <code>011111</code>
            <ul><li>Résultat : <code>10011111</code> → <code>9F</code></li></ul>
        </li>
        <li>Octet 3 (<code>10xxxxxx</code>) : prend les 6 bits suivants → <code>011001</code>
            <ul><li>Résultat : <code>10011001</code> → <code>99</code></li></ul>
        </li>
        <li>Octet 4 (<code>10xxxxxx</code>) : prend les bits restants → <code>000010</code>
            <ul><li>Résultat : <code>10000010</code> → <code>82</code></li></ul>
        </li>
    </ul>

    <p>UTF-8 hex : <code>F0 9F 99 82</code><br>
        Binaire : <code>1111 0000 1001 1111 1001 1001 1000 0010</code></p>

    <h2>3. Pourquoi l’encodage est crucial</h2>

    <p>Si tu lis ces 4 octets dans un fichier UTF-8, le parser les traduit en caractères Unicode (recompose les 20 bits et obtient <strong>U+1F642</strong>), affichant <span class="emoji">🙂</span>.</p>

    <p>Si l’encodage n’est pas le bon, c’est la tragédie.
        T’as sauvegardé ton fichier en UTF-8, et un autre logiciel débile essaie de l’ouvrir en ISO-8859-1. Quand il tombe sur <code>F0 9F 99 82</code>, il panique. Ton <span class="emoji">🙂</span> se transforme en <code>�</code>.
        C’est plus un smiley, c’est le cri silencieux de ton âme.</p>

    <p>C’est un peu comme si tu donnais les paroles d’une chanson de Jul à un traducteur latin → ça n’a plus aucun sens et tout le monde souffre.</p>

    <blockquote>Moralité : la prochaine fois que tu vois un caractère chelou s’afficher en losange avec un point d’interrogation, ce n’est pas ton PC qui est possédé.
        C’est juste toi qui as oublié de dire à tout le monde : <strong>“on parle en UTF-8 ici, merci”</strong>.</blockquote>
</div>
</body>
</html>
